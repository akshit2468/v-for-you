<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Question ðŸ’˜</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Keep the runaway button INSIDE the card */
    .screen{ position:relative; overflow:hidden; }

    /* We will move only the NO button */
    #noBtn{
      position:absolute;
      left: 50%;
      top: calc(100% - 92px);
      transform: translateX(-50%);
      will-change: left, top, transform;
      transition: left .22s ease, top .22s ease;
      z-index: 3;
      min-width: min(360px, 90%);
    }

    /* Keep YES in normal flow */
    #yesBtn{
      min-width: min(360px, 90%);
      z-index: 2;
    }
  </style>
</head>

<body class="theme-propose fade-in">
  <div class="bg" aria-hidden="true">
    <div class="glow g1"></div>
    <div class="glow g2"></div>
    <div class="glow g3"></div>
  </div>

  <div class="hearts" aria-hidden="true"></div>

  <main class="stage">
    <section class="screen" id="screen">
      <div class="topline">
        <div class="tag">Quick questionâ€¦</div>
        <div class="daycount">ðŸ’˜</div>
      </div>

      <!-- Keep your exact text here (edit as you like) -->
      <h1 class="headline">Will you be my Valentine? ðŸ‘€</h1>
      <p class="line">Choose wisely.</p>
      <p class="hint">(Yes is the correct answer)</p>

      <div class="actions" id="actions">
        <button class="btn" id="yesBtn" type="button">Yes ðŸ’–</button>
        <button class="btn ghost" id="noBtn" type="button">No ðŸ˜¤</button>
      </div>
    </section>
  </main>

  <script>
    // ====== page flow ======
    const YES_URL = "rose.html"; // change if your next page is different

    document.getElementById("yesBtn").addEventListener("click", () => {
      document.body.classList.add("fade-out");
      setTimeout(() => { location.href = YES_URL; }, 260);
    });

    // ====== runaway NO button ======
    const noBtn = document.getElementById("noBtn");
    const screen = document.getElementById("screen");

    function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

    function moveNoFar(){
      const r = screen.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      // padding from edges so it never clips
      const pad = 16;

      // "Run farther": allow full area of the card
      const maxX = r.width  - b.width  - pad;
      const maxY = r.height - b.height - pad;

      // pick a random spot (far enough from center)
      let x = pad + Math.random() * maxX;
      let y = pad + Math.random() * maxY;

      // Avoid placing exactly under the Yes button area (top center)
      // (not perfect, but helps)
      const avoidTop = r.height * 0.28;
      if (y < avoidTop) y = avoidTop + Math.random() * (maxY - avoidTop);

      // clamp final
      x = clamp(x, pad, r.width  - b.width  - pad);
      y = clamp(y, pad, r.height - b.height - pad);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "translateX(0)";
    }

    // Desktop triggers
    noBtn.addEventListener("mouseenter", moveNoFar);
    noBtn.addEventListener("mousemove", moveNoFar);

    // Mobile trigger
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoFar();
    }, { passive:false });

    // Initial position: bottom center
    function initNo(){
      const r = screen.getBoundingClientRect();
      noBtn.style.left = (r.width / 2) + "px";
      noBtn.style.top  = (r.height - 92) + "px";
      noBtn.style.transform = "translateX(-50%)";
    }
    window.addEventListener("resize", initNo);
    initNo();

    // Optional: if she tries to click it, keep running ðŸ˜ˆ
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoFar();
    });
  </script>
</body>
</html>
